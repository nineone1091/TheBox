<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title> ç®±ç®± TheBox </title>
    <link rel="icon" href="image/thebox/images.png" type="image/png">
    <link rel="stylesheet" href="css/bootstrap.min.css" />
    <link rel="stylesheet" href="css/mygo.css" />
    <link rel="stylesheet" href="css/all.css" type="text/css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />
    <style>
        body {
            font-family: "Zen Maru Gothic", serif;
            background-color: var(--color9);
        }

        a {
            text-decoration: none;
            color: black;
        }

        a:hover {
            color: inherit;
            /* æ»‘é¼ æ‡¸åœæ™‚é¡è‰²ä¸è®Š */
            text-decoration: none;
            /* æ»‘é¼ æ‡¸åœæ™‚ç„¡ä¸‹åŠƒç·š */
        }

        .theboxbottom {
            border-radius: 50%;
            background-image: url(image/thebox/O59fl1Ie_400x400.png);
            width: 20%;
            height: auto;
            background-position: center center;
            background-size: cover;
        }

        .lyrics span {
            display: block;
            font-size: 22px;
            cursor: pointer;
            padding: 5px;
            transition: 0.2s;
        }

        .lyrics span:hover {
            background-color: #f0f0f0;
        }

        .highlight {
            font-weight: bold;
            color: var(--color6);
            font-size: 24px;
        }

        .video-container {
            margin-bottom: 20px;
        }

        .buttons {
            margin-bottom: 10px;
        }

        button {
            padding: 8px 15px;
            margin: 5px;
            cursor: pointer;
            border: none;
            background-color: var(--color7);
            color: white;
            border-radius: 5px;
            transition: 0.3s;
        }

        button:hover {
            background-color: var(--color2);
        }

        button.active {
            background-color: var(--color5);
        }
    </style>
</head>

<body>
    <!-- æœ€ä¸Šæ–¹æ©«æ¢ -->
    <section id="s01">
        <nav class="navbar navbar-expand-lg bg-white">
            <div class="container-fluid" id="app2">
                <a class="navbar-brand" href="#">
                    <img src="image/thebox/images.png" alt="bootstrap" width="70">
                </a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                    data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"
                    aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarSupportedContent">
                    <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                        <li class="nav-item">
                            <a class="nav-link fs-4" aria-current="page" href="Thebox.html">HOME</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link fs-4" href="TheboxAbout.html">ç®±ç®±å„å¼è¦ç¯„</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link active fs-4" href="TheboxSong.html">åŸå‰µæ›²å°ˆå€</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link fs-4" href="TheboxStream.html">å½±ç‰‡æ”¶è—åº«</a>
                        </li>
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle fs-4" href="#" role="button" data-bs-toggle="dropdown"
                                aria-expanded="false">
                                æ——ä¸‹è—äºº
                            </a>
                            <ul class="dropdown-menu">
                                <li><a class="dropdown-item fs-5" href="TheboxWolf.html">æ£®æ£®éˆ´è˜­</a></li>
                                <li><a class="dropdown-item fs-5" href="TheboxFox.html">ç‘ªæ ¼éº—ç‰¹è«¾çˆ¾çµ²</a></li>
                            </ul>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link fs-4" href="TheboxMessage.html">å•é¡Œèˆ‡å»ºè­°</a>
                        </li>
                        <li class="nav-item" v-if="isAdmin">
                            <a class="nav-link fs-4" href="TheboxBack.html">å¾Œå°</a>
                        </li>
                    </ul>
                    <li class="nav-item" style="list-style: none;">
                        <a class="nav-link fs-4 me-3" href="#">ç¶²é æˆæ¬Šé </a>
                    </li>
                    <div>
                        <span class="h4 text-success fw-900 me-3 d-none" id="s02_username_showtext">æ­¡è¿æœƒå“¡: <span
                                class="h3 text-danger" id="s02_username_text">XXX</span></span>
                        <button class="btn btn-warning" data-bs-toggle="modal" data-bs-target="#registerModal"
                            id="s02_reg_btn">è¨»å†Š</button>
                        <button class="btn btn-success" data-bs-toggle="modal" data-bs-target="#loginModal"
                            id="s02_login_btn">ç™»å…¥</button>
                        <button class="btn btn-danger d-none" id="s02_logout_btn">ç™»å‡º</button>
                    </div>
                </div>
            </div>
        </nav>
    </section>
    <!--è¨»å†Š-->
    <div class="modal fade" id="registerModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header text-bg-warning">
                    <h1 class="modal-title fs-4 fw-900" id="exampleModalLabel">æœƒå“¡è¨»å†Š</h1>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="col-6">
                            <div class="d-flex flex-column h-100">
                                <div class="display-6 fw-900 my-3">æœƒå“¡é ˆçŸ¥</div>
                                <h2>1. æœƒå“¡è³‡æ ¼</h2>
                                <ul>
                                    <li>æœ¬ç¶²ç«™ç‚ºéå®˜æ–¹ã€ç„¡ç‡Ÿåˆ©æ€§è³ªçš„ç²‰çµ²çµ„ç¹”ï¼Œä»»ä½•æœ‰èˆˆè¶£çš„äººçš†å¯ç”³è«‹åŠ å…¥ã€‚</li>
                                    <li>æœƒå“¡æ‡‰éµå®ˆç¶²é è¦å‰‡ï¼Œå…±åŒç¶­è­·å‹å–„çš„ç¤¾ç¾¤æ°›åœã€‚</li>
                                </ul>

                                <h2>2. æœƒå“¡ç¾©å‹™èˆ‡æ¬Šåˆ©</h2>
                                <ul>
                                    <li>æœƒå“¡æœ‰æ¬Šåƒèˆ‡æœ¬ç¶²é å„é¡æ´»å‹•èˆ‡è¨è«–ã€‚</li>
                                    <li>æœƒå“¡æ‡‰å°Šé‡å…¶ä»–æˆå“¡ï¼Œä¸å¾—ç™¼è¡¨ä¾®è¾±ã€æ­§è¦–ã€æ”»æ“Šæˆ–ä»»ä½•é•åç¤¾æœƒå…¬åºè‰¯ä¿—çš„è¨€è«–ã€‚</li>
                                    <li>ç¦æ­¢ç™¼ä½ˆæ¶‰åŠæ”¿æ²»ã€å®—æ•™ã€å•†æ¥­å»£å‘Šæˆ–å…¶ä»–èˆ‡ä¿±æ¨‚éƒ¨å®—æ—¨ç„¡é—œçš„å…§å®¹ã€‚</li>
                                    <li>æœƒå“¡ä¸å¾—ä½¿ç”¨æœ¬ç¶²ç«™åç¾©é€²è¡Œä»»ä½•å•†æ¥­æˆ–é•æ³•è¡Œç‚ºã€‚</li>
                                    <li>æ‰€ç™¼å¸ƒå…§å®¹æ‡‰å„ªå…ˆç¬¦åˆç®±ç®±å®˜æ–¹è¦å®š</li>
                                </ul>

                                <h2>3. æ´»å‹•èˆ‡å…§å®¹</h2>
                                <ul>
                                    <li>æœƒå“¡åƒèˆ‡æ´»å‹•æ™‚æ‡‰éµå®ˆæ´»å‹•è¦ç¯„ï¼Œä¸¦å°Šé‡å…¶ä»–åƒèˆ‡è€…ã€‚</li>
                                    <li>æ‰€æœ‰ç¶²é å…§éƒ¨è¨è«–ã€åˆ†äº«çš„å…§å®¹ï¼Œå‹¿ç”¨æ–¼å…¶ä»–å•†æ¥­ç”¨é€”ã€‚</li>
                                </ul>

                                <h2>4. é•è¦è™•ç†</h2>
                                <ul>
                                    <li>è‹¥æœƒå“¡é•åè¦å‰‡ï¼Œç®¡ç†åœ˜éšŠæœ‰æ¬Šè­¦å‘Šã€æš«åœæˆ–å–æ¶ˆæœƒå“¡è³‡æ ¼ã€‚</li>
                                    <li>ç®¡ç†åœ˜éšŠä¿ç•™æœ€çµ‚è§£é‡‹æ¬Šï¼Œè‹¥æœ‰é‡å¤§çˆ­è­°ï¼Œå°‡ç”±ç®¡ç†åœ˜éšŠå…±åŒæ±ºè­°è™•ç†ã€‚</li>
                                </ul>

                                <h2>5. å…¶ä»–äº‹é …</h2>
                                <ul>
                                    <li>æœ¬é ˆçŸ¥å¦‚æœ‰è®Šæ›´ï¼Œå°‡æœƒæå‰å…¬å‘Šï¼Œæœƒå“¡æœ‰ç¾©å‹™è‡ªè¡Œç¢ºèªæ›´æ–°å…§å®¹ã€‚</li>
                                    <li>ç¶²é å…§æ‰€æœ‰æ´»å‹•ä¸æ¶‰åŠä»»ä½•å•†æ¥­è¡Œç‚ºï¼Œçš†ç‚ºæœƒå“¡è‡ªé¡˜åƒèˆ‡ã€‚</li>
                                </ul>

                                <p>æ„Ÿè¬æ‚¨çš„æ”¯æŒèˆ‡é…åˆï¼Œç¥æ‚¨åº¦éæ„‰å¿«çš„æ™‚å…‰ï¼</p>
                                <div class="form-check form-switch mt-auto">
                                    <input type="checkbox" class="form-check-input is-invalid" role="switch" id="chk01"
                                        name="chk01">
                                    <label for="chk01" class="form-check-label">ä¸åŒæ„</label>
                                    <div class="valid-feedback">.</div>
                                    <div class="invalid-feedback">æœªåŒæ„ä¸å¯è¨»å†Š!</div>
                                </div>
                            </div>
                        </div>
                        <div class="col-6">
                            <div class="mb-3">
                                <label for="username_reg" class="form-label">å¸³è™Ÿ</label>
                                <input type="text" class="form-control is-invalid" id="username_reg" name="username_reg"
                                    >
                                <div class="valid-feedback">ç¬¦åˆè¦å‰‡</div>
                                <div class="invalid-feedback">ä¸ç¬¦è¦å‰‡ï¼Œè«‹ä¿®æ”¹</div>
                            </div>
                            <div class="mb-3">
                                <label for="password_reg" class="form-label">å¯†ç¢¼</label>
                                <input type="password" class="form-control is-invalid" id="password_reg"
                                    name="password_reg">
                                <div class="valid-feedback">ç¬¦åˆè¦å‰‡</div>
                                <div class="invalid-feedback">ä¸ç¬¦è¦å‰‡ï¼Œè«‹ä¿®æ”¹</div>
                            </div>
                            <div class="mb-3">
                                <label for="re_password_reg" class="form-label">ç¢ºèªå¯†ç¢¼</label>
                                <input type="password" class="form-control is-invalid" id="re_password_reg"
                                    name="re_password_reg">
                                <div class="valid-feedback">ç¬¦åˆè¦å‰‡</div>
                                <div class="invalid-feedback">ä¸ç¬¦è¦å‰‡ï¼Œè«‹ä¿®æ”¹</div>
                            </div>
                            <div class="mb-3">
                                <label for="email_reg" class="form-label">Email</label>
                                <input type="email" class="form-control is-invalid" placeholder="3-10å­—æ•¸" id="email_reg"
                                    name="email_reg">
                                <div class="valid-feedback">ç¬¦åˆè¦å‰‡</div>
                                <div class="invalid-feedback">ä¸ç¬¦è¦å‰‡ï¼Œè«‹ä¿®æ”¹</div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">å–æ¶ˆ</button>
                    <button type="button" class="btn btn-primary" id="ok_btn_reg">ç¢ºèª</button>
                </div>
            </div>
        </div>
    </div>
    <!--ç™»å…¥-->
    <div class="modal fade" id="loginModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header text-bg-success">
                    <h1 class="modal-title  fs-4 fw-900" id="exampleModalLabel">æœƒå“¡ç™»å…¥</h1>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="mb-3">
                        <label for="username_login" class="form-label">å¸³è™Ÿ</label>
                        <input type="text" class="form-control is-invalid" id="username_login" name="username_login">
                        <div class="invalid-feedback">è«‹è¼¸å…¥å¸³è™Ÿ</div>
                    </div>
                    <div class="mb-3">
                        <label for="password_login" class="form-label">å¯†ç¢¼</label>
                        <input type="password" class="form-control is-invalid" id="password_login"
                            name="password_login">
                        <div class="invalid-feedback">è«‹è¼¸å…¥å¯†ç¢¼</div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">å–æ¶ˆ</button>
                    <button type="button" class="btn btn-primary" id="ok_btn_login">ç¢ºèª</button>
                </div>
            </div>
        </div>
    </div>
    <!--å½±ç‰‡æ’¥æ”¾-->
    <div class="container">
        <div class="row text-center mt-5">
            <div class="h4 text-center">
                <span>è«‹å¾ä¸‹æ–¹é¸æ“‡æ­Œæ›²ã€‚é»æ“Šæ­Œè©å³å¯è·³è½‰åˆ°è©²å¥</span>
            </div>
            <div id="app">
                <!-- åˆ‡æ›å½±ç‰‡çš„æŒ‰éˆ• -->
                <div class="buttons">
                    <button v-for="(video, index) in videos" :key="index" @click="switchVideo(index)"
                        :class="{ active: currentVideoIndex === index }">
                        {{ video.title }}
                    </button>
                </div>

                <!-- å½±ç‰‡æ’­æ”¾å€ -->
                <div class="video-container mt-3">
                    <div id="player" class="mt-3"></div>
                </div>

                <!-- æ­Œè©å€å¡Š -->
                <div class="lyrics">
                    <span v-for="(lyric, index) in videos[currentVideoIndex].lyrics" :key="index"
                        @click="seekTo(lyric.time)"
                        :class="{ 'highlight': index === videos[currentVideoIndex].currentLyricIndex }">
                        {{ lyric.text }}
                    </span>
                </div>


            </div>
        </div>
    </div>
    </div>

    <!--åŸå‰µæ£®æ£®éˆ´è˜­-->
    <!--<section id="s02">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-9 mt-5">
                    <h3 class="text-center mt-3">æµæ˜Ÿæœƒé™è½åœ¨ä½ å¿ƒä¸Š</h3>
                    <h5 class="text-center mb-2">æ£®æ£®éˆ´è˜­ Linglan Lily & ç‘ªæ ¼éº—ç‰¹ Â· è«¾çˆ¾çµ² Margaret North</h5>
                    <div class="col-12 text-center mb-3">
                        <iframe width="560" height="315" src="https://www.youtube.com/embed/TEVp99ulq-w?si=6po7sJR5B2Le58h-" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
                    </div>
                    <div class="col-12">

                    </div>
                </div>
                <div class="col-9 mt-3">
                    <h3 class="text-center mt-3">ä»Šå¤©æ²’å‘¼å¸çš„å¿ƒæƒ…</h3>
                    <h5 class="text-center mb-2">æ£®æ£®éˆ´è˜­ Linglan Lily & çƒ˜å—“éŸ³æ¨‚è£½ä½œ homesoundmusic</h5>
                    <div class="col-12 text-center mb-3">
                        <iframe width="560" height="315" src="https://www.youtube.com/embed/ytJ_yfyELm4?si=g1mHMrU0rKkBni4X" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
                    </div>
                </div>
                <div class="col-9 mt-3">
                    <h3 class="text-center mt-3">æ•å¤¢è¬Š</h3>
                    <h5 class="text-center mb-2">æ£®æ£®éˆ´è˜­ Linglan Lily & çƒ˜å—“éŸ³æ¨‚è£½ä½œ homesoundmusic</h5>
                    <div class="col-12 text-center mb-3">
                        <iframe width="560" height="315" src="https://www.youtube.com/embed/XArIbyqZw-o?si=M70ixSsWUW2HKfZZ" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
                    </div>
                </div>
                <div class="col-9 mt-3">
                    <h3 class="text-center mt-3">å£çƒå£ä¹</h3>
                    <h5 class="text-center mb-2">æ£®æ£®éˆ´è˜­ Linglan Lily & çƒ˜å—“éŸ³æ¨‚è£½ä½œ homesoundmusic</h5>
                    <div class="col-12 text-center mb-3">
                        <iframe width="560" height="315" src="https://www.youtube.com/embed/toAZjnSIOeE?si=bI8MlowVgEDVZqIp" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
                    </div>
                </div>
                <div class="col-9 mt-3">
                    <h3 class="text-center mt-3">ç ´å±€</h3>
                    <h5 class="text-center mb-2">æ£®æ£®éˆ´è˜­ Linglan Lily & çƒ˜å—“éŸ³æ¨‚è£½ä½œ homesoundmusic</h5>
                    <div class="col-12 text-center mb-3">
                        <iframe width="560" height="315" src="https://www.youtube.com/embed/YlpvO1zs0fY?si=rfxIUkLlZXjHDlaL" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
                    </div>
                </div>
                <div class="col-9 mt-3">
                    <h3 class="text-center mt-3">æœˆè‰²å¥‡é‡</h3>
                    <h5 class="text-center mb-2">ç‘ªæ ¼éº—ç‰¹ Â· è«¾çˆ¾çµ² Margaret North</h5>
                    <div class="col-12 text-center mb-3">
                        <iframe width="560" height="315" src="https://www.youtube.com/embed/4lc1X8J5yhA?si=r27BT_tiW0oKBVmu" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
                    </div>
                </div>
            </div>
        </div>
    </section>-->

    <!--è¯çµ¡-->
    <sectione id="s10">
        <div class="row mt-5">
            <div style="background-color: var(--color4);">
                <div class="row">
                    <div class="col-lg-6">
                        <div class="text-end m-3">
                            <img src="image/thebox/O59fl1Ie_400x400.png" class="theboxbottom" alt="">
                        </div>
                    </div>
                    <div class="col-lg-6">
                        <h5 class="mt-5" style="color: var(--color2);">å®˜æ–¹Discordï¼š<a href="https://discord.gg/theboxdc"
                                target="_blank" style="color: var(--color2);">https://discord.gg/theboxdc</a></h5>
                        <h5 class="" style="color: var(--color2);">å•†æ¡ˆæ´½è«‡ï¼štheboxvtubersd@gmail.com</h5>
                        <h5 class="" style="color: var(--color2);">åˆä½œé‚€ç´„ï¼å…¶ä»–ï¼štheboxvtuber@gmail.com</h5>
                    </div>
                </div>
            </div>
        </div>
    </sectione>

    <script src="js/bootstrap.bundle.min.js"></script>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script src="js/all.js"></script>
    <script src="js/jquery-3.7.1.min.js"></script>
    <script src="js/wow.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="https://www.youtube.com/iframe_api"></script>
    <script>
        var flag_password_reg = false;
        var flag_username_reg = false;
        var flag_repassword = false;
        var flag_email_reg = false;
        var flag_chkb01 = false;
        var flag_username_login = false;
        var flag_password_login = false;
        //å³æ™‚ç›£è½username_reg
        $(document).ready(function () {
        let pageName = "åŸå‰µæ›²å€"; // ğŸ”¹ é€™è£¡æ‰‹å‹•è¨­å®šä¸åŒçš„åç¨±
        $.post("track_click.php", { tab: pageName }, function(response) {
            console.log("ä¼ºæœå™¨å›æ‡‰ï¼š", response); 
        });
    });
        
        $(function () {
            if (getCookie("Uid01")) {
                var JSONdata = {};
                JSONdata["uid01"] = getCookie("Uid01");

                $.ajax({
                    type: "POST",
                    url: "member_control_api_v1.php?action=checkuid",
                    data: JSON.stringify(JSONdata),
                    dataType: "json",
                    success: showdata_checkuid,
                    error: function () {
                        Swal.fire({
                            title: "æ¬„ä½æœ‰éŒ¯èª¤ï¼Œè«‹ä¸­æ­¢",
                            text: "Somgthing wrong member_control_api_v1.php",
                            icon: "warning"
                        });
                    }
                })
            } else {
                Swal.fire({
                    title: "å…§æœ‰å‹•æ…‹è·Ÿå”±åŠŸèƒ½ï¼Œè«‹å…ˆç™»å…¥æœƒå“¡",
                    showDenyButton: false,
                    showCancelButton: false,
                    confirmButtonText: "ç¢ºèª",
                    denyButtonText: `Don't save`,
                    allowOutsideClick: false
                }).then((result) => {
                    /* Read more about isConfirmed, isDenied below */
                    if (result.isConfirmed) {
                        location.href = "Thebox.html";
                    }
                });
            }

            $("#username_reg").bind("input propertychange", function () {
                if ($(this).val().length > 2 && $(this).val().length < 16) {
                    $(this).removeClass("is-invalid");
                    $(this).addClass("is-valid");
                    flag_username_reg = true;
                } else {
                    $(this).removeClass("is-valid");
                    $(this).addClass("is-invalid");
                    flag_username_reg = false;
                }
            });

            //å³æ™‚ç›£è½password_reg
            $("#password_reg").bind("input propertychange", function () {

                $("#re_password_reg").removeClass("is-valid");
                $("#re_password_reg").addClass("is-invalid");
                flag_re_password_reg = false;

                if ($(this).val().length > 2 && $(this).val().length < 16) {
                    $(this).removeClass("is-invalid");
                    $(this).addClass("is-valid");
                    flag_password_reg = true;
                } else {
                    $(this).removeClass("is-valid");
                    $(this).addClass("is-invalid");
                    flag_password_reg = false;
                }
            });


            //å³æ™‚ç›£è½re_password_reg
            $("#re_password_reg").bind("input propertychange", function () {
                if (flag_password_reg && $(this).val() === $("#password_reg").val()) {
                    $(this).removeClass("is-invalid");
                    $(this).addClass("is-valid");
                    flag_re_password_reg = true;
                } else {
                    $(this).removeClass("is-valid");
                    $(this).addClass("is-invalid");
                    flag_re_password_reg = false;
                }
            });

            //å³æ™‚ç›£è½email_reg
            $("#email_reg").bind("input propertychange", function () {
                if ($(this).val().length > 2 && $(this).val().length < 32) {
                    $(this).removeClass("is-invalid");
                    $(this).addClass("is-valid");
                    flag_email_reg = true;
                } else {
                    $(this).removeClass("is-valid");
                    $(this).addClass("is-invalid");
                    flag_email_reg = false;
                }
            });

            //å³æ™‚ç›£è½chk01
            $("#chk01").change(function () {
                console.log($(this).is(':checked'));
                if ($(this).is(':checked')) {
                    $(this).next().text("åŒæ„");
                    $(this).removeClass("is-invalid");
                    $(this).addClass("is-valid");
                    flag_chk01_reg = true;
                } else {
                    $(this).next().text("ä¸åŒæ„");
                    $(this).removeClass("is-valid");
                    $(this).addClass("is-invalid");
                    flag_chk01_reg = false;
                }
            });

            //å³æ™‚ç›£è½username_login
            $("#username_login").bind("input propertychange", function () {
                if ($(this).val().length > 0) {
                    $(this).removeClass("is-invalid")
                    flag_username_login = true;
                } else {
                    $(this).addClass("is-invalid")
                    flag_username_login = false;
                }
            });

            //å³æ™‚ç›£è½password_login
            $("#password_login").bind("input propertychange", function () {
                if ($(this).val().length > 0) {
                    $(this).removeClass("is-invalid");
                    flag_password_login = true;
                } else {
                    $(this).addClass("is-invalid");
                    flag_password_login = false;
                }
            });

            //ok_btn_regæŒ‰éˆ•ç›£è½
            $("#ok_btn_reg").click(function () {
                if (flag_username_reg && flag_password_reg && flag_re_password_reg && flag_email_reg && flag_chk01_reg) {
                    //å‚³éè‡³å¾Œç«¯APIåŸ·è¡Œè¨»å†Šè¡Œç‚º
                    //input: {"username" : "owner04", "password" : "123456", "email" : "owner01@test.com"}
                    var JOSNdata = {};
                    JOSNdata["username"] = $("#username_reg").val();
                    JOSNdata["password"] = $("#password_reg").val();
                    JOSNdata["email"] = $("#email_reg").val();
                    console.log(JSON.stringify(JOSNdata));

                    $.ajax({
                        type: "POST",
                        url: "member_control_api_v1.php?action=register",
                        data: JSON.stringify(JOSNdata),
                        dataType: "json",
                        success: showdata_reg,
                        error: function () {
                            Swal.fire({
                                title: "APIä»‹æ¥éŒ¯èª¤?",
                                text: "member_control_api_v1.php?action=register",
                                icon: "error"
                            });
                        }
                    });
                } else {
                    Swal.fire({
                        title: "æ¬„ä½æœ‰éŒ¯èª¤, è«‹ä¿®æ­£?",
                        icon: "warning",
                        showCancelButton: false,
                        confirmButtonColor: "#3085d6",
                        cancelButtonColor: "#d33",
                        confirmButtonText: "ç¢ºèª"
                    }).then((result) => {
                        // if (result.isConfirmed) {
                        //     Swal.fire({
                        //         title: "Deleted!",
                        //         text: "Your file has been deleted.",
                        //         icon: "success"
                        //     });
                        // }
                    });
                }
            });

            //æŒ‰éˆ•ç›£è½ok_btn_login
            $("#ok_btn_login").click(function () {
                if (flag_username_login && flag_password_login) {
                    //å‚³éå¾Œæ®µAPIåŸ·è¡Œç™»å…¥è¡Œç‚º
                    //input: {"username" : "owner7", "password" : "123456"}
                    var JSONdata = {};
                    JSONdata["username"] = $("#username_login").val();
                    JSONdata["password"] = $("#password_login").val();
                    console.log(JSON.stringify(JSONdata));
                    $.ajax({
                        type: "POST",
                        url: "member_control_api_v1.php?action=login",
                        data: JSON.stringify(JSONdata),
                        dataType: "json",
                        success: showdata_login,
                        error: function () {
                            Swal.fire({
                                title: "APIä»‹æ¥éŒ¯èª¤?",
                                text: "member_control_api_v1.php?action=login",
                                icon: "error"
                            });
                        }
                    });
                } else {
                    Swal.fire({
                        title: "è¼¸å…¥éŒ¯èª¤!",
                        text: "è«‹è¼¸å…¥å¸³è™Ÿå’Œå¯†ç¢¼!",
                        icon: "error"
                    });
                }
            });

            $("#s02_logout_btn").click(function () {
                setCookie("Uid01", "", 7);
                location.href = "TheboxSong.html";
            });


            function showdata_reg(data) {
                console.log(data);
                if (data.state) {
                    Swal.fire({
                        title: data.message,
                        icon: "success"
                    }).then((result) => {
                        if (result.isConfirmed) {
                            location.href = "TheboxAbout.html";
                        }
                    });
                } else {
                    Swal.fire({
                        title: data.message,
                        icon: "error"
                    });
                }
            }

            function showdata_login(data) {
                console.log(data);
                if (data.state) {
                    Swal.fire({
                        title: data.message,
                        icon: "success"
                    }).then((result) => {
                        if (result.isConfirmed) {
                            //loginModal æ¶ˆå¤±
                            $("#loginModal").modal("hide");

                            //é¡¯ç¤ºæ­¡è¿è¨Šæ¯
                            $("#s02_username_showtext").removeClass("d-none");
                            $("#s02_username_text").text(data.data.Username);

                            //éš±è—è¨»å†Šèˆ‡ç™»å…¥æŒ‰éˆ•
                            $("#s02_reg_btn").addClass("d-none");
                            $("#s02_login_btn").addClass("d-none");

                            //é¡¯ç¤ºç™»å‡ºæŒ‰éˆ•
                            $("#s02_logout_btn").removeClass("d-none");

                            //uidé©—è­‰ç¢¼å¯«å…¥cookie
                            setCookie("Uid01", data.data.Uid01, 7);
                        }
                    });
                } else {
                    Swal.fire({
                        title: data.message,
                        icon: "error"
                    });
                }
            }
        });

        function setCookie(cname, cvalue, exdays) {
            const d = new Date();
            d.setTime(d.getTime() + (exdays * 24 * 60 * 60 * 1000));
            let expires = "expires=" + d.toUTCString();
            document.cookie = cname + "=" + cvalue + ";" + expires + ";path=/";
        }

        function getCookie(cname) {
            let name = cname + "=";
            let ca = document.cookie.split(';');
            for (let i = 0; i < ca.length; i++) {
                let c = ca[i];
                while (c.charAt(0) == ' ') {
                    c = c.substring(1);
                }
                if (c.indexOf(name) == 0) {
                    return c.substring(name.length, c.length);
                }
            }
            return "";
        }

        function showdata_checkuid(data) {
            if (data.state) {
                $("#loginModal").modal("hide");

                //é¡¯ç¤ºæ­¡è¿è¨Šæ¯
                $("#s02_username_showtext").removeClass("d-none");
                $("#s02_username_text").text(data.data.Username);

                //éš±è—è¨»å†Šèˆ‡ç™»å…¥æŒ‰éˆ•
                $("#s02_reg_btn").addClass("d-none");
                $("#s02_login_btn").addClass("d-none");

                //é¡¯ç¤ºç™»å‡ºæŒ‰éˆ•
                $("#s02_logout_btn").removeClass("d-none");
                $("#s02_back").removeClass("d-none");
            }else {
                Swal.fire({
                    title: "å…§æœ‰ç‰¹æ®ŠåŠŸèƒ½ï¼Œåƒ…æœƒå“¡å¯ä½¿ç”¨!",
                    showDenyButton: false,
                    showCancelButton: false,
                    confirmButtonText: "ç¢ºèª",
                    denyButtonText: `Don't save`,
                    allowOutsideClick: false
                }).then((result) => {
                    if (result.isConfirmed) {
                        location.href = "Thebox.html";
                    }
                });
            }
        }

        function showdata_re_uni(data) {
            if (data.state) {
                $("#username_reg").removeClass("is-invalid");
                $("#username_reg").addClass("is-valid");
                $("#regModal_username_valid_feedback").text(data.message);
                flag_username_reg = true;
            } else {
                $("#username_reg").removeClass("is-valid");
                $("#username_reg").addClass("is-invalid");
                $("#regModal_username_invalid_feedback").text(data.message);
                flag_username_reg = false;
            }
        }

        const { createApp, ref, onMounted } = Vue;

        createApp({
            setup() {
                let player = null; // YouTube æ’­æ”¾å™¨å¯¦ä¾‹
                const currentVideoIndex = ref(0); // ç›®å‰é¡¯ç¤ºçš„å½±ç‰‡ç´¢å¼•
                const videos = ref([
                    {
                        title: "æµæ˜Ÿæœƒé™è½åœ¨ä½ å¿ƒä¸Š",
                        videoId: "TEVp99ulq-w",
                        lyrics: [
                            { time: "00:00.000", text: "ã€Šæµæ˜Ÿæœƒé™è½åœ¨ä½ å¿ƒä¸Šã€‹" },
                            { time: "00:05.000", text: "æ£®æ£®éˆ´è˜­ Linglan Lily & ç‘ªæ ¼éº—ç‰¹ Â· è«¾çˆ¾çµ² Margaret North" },
                            { time: "00:11.300", text: "è®“æˆ‘å·èµ°ä½ çš„æº«æš–æ“æŠ±" },
                            { time: "00:17.000", text: "ä»»æ†‘æ¼²æ½®æµªèŠ±æ‰“ä¸Šå´–å³­" },
                            { time: "00:22.000", text: "å‡å¦‚æ‚²å‚·æ²’æœ‰è¢«ä¸–ç•Œè¦ºå¯Ÿ" },
                            { time: "00:27.500", text: "ä¼¸å‡ºæ‰‹ ç‰½å¥½å°±ä¸æ”¾æ‰" },
                            { time: "00:33.000", text: "å¿ƒå—å‚·ä¹Ÿå¼·é¡æ­¡ç¬‘" },
                            { time: "00:35.800", text: "èº²é¿ä¸æ‰ç¿»æ¹§æµªæ½®" },
                            { time: "00:38.600", text: "é‚£å°±æ„Ÿå—æœˆå…‰ç‘è½ä¸‹ æº«æš–çš„å¾®å…‰" },
                            { time: "00:43.800", text: "æˆ‘ä¹Ÿæ›¾ç¶“ç¥ˆæ±‚èƒ½è¢«æ‹¯æ•‘" },
                            { time: "00:47.000", text: "æ‰€ä»¥æˆ‘èƒ½æ‡‚" },
                            { time: "00:49.000", text: "ä¼¸å‡ºæ‰‹ ç‰½ä½æˆ‘" },
                            { time: "00:54.300", text: "ç´„å®šå¥½ å°æŒ‡çºç¹" },
                            { time: "00:57.600", text: "ä¸€åŒæŠµæŠ—èµ·è½çš„æµªæ½®" },
                            { time: "01:00.000", text: "è¶Šé›£ç†¬ è¶Šè­‰æ˜æ´»è‘—çš„é‡é‡" },
                            { time: "01:05.700", text: "å¤±çœ  æ›´å¤šæ™‚é–“å°è©±" },
                            { time: "01:25.900", text: "è®“æˆ‘å †é€ ä½ çš„æ¯ç§’å¾®ç¬‘" },
                            { time: "01:31.000", text: "ä»»æ†‘æ´¶æ¹§æµªèŠ±æ²èµ°ç´°æ²™" },
                            { time: "01:36.900", text: "å‡å¦‚æº«æš–æ²’æœ‰è¢«ä¸–ç•Œè¦ºå¯Ÿ" },
                            { time: "01:42.000", text: "ä¼¸å‡ºæ‰‹ ç‰½ä½å°±ä¸å®³æ€•" },
                            { time: "01:47.000", text: "æƒ³å †ç Œæ˜åªšçš„é¢¨å…‰" },
                            { time: "01:50.000", text: "ä¹Ÿå¯èƒ½è¢«çƒé›²ç± ç½©" },
                            { time: "01:52.700", text: "é‚£å°±ç­‰å¾…æœéœ²æŠ˜å°„ä¸‹ æ—­æ—¥çš„å¾®å…‰" },
                            { time: "01:58.000", text: "ä¹Ÿæ›¾ç¥ˆæ±‚é ç„¡åŠ©é" },
                            { time: "02:00.800", text: "ç¾åœ¨è¼ªåˆ°æˆ‘ä¼¸æ‰‹" },
                            { time: "02:03.500", text: "åªè¦ä½  ç‰½ä½æˆ‘" },
                            { time: "02:08.700", text: "ç´„å®šå¥½ å°æŒ‡çºç¹" },
                            { time: "02:11.950", text: "ä¸€åŒæŠµæŠ—èµ·è½çš„æµªæ½®" },
                            { time: "02:14.500", text: "è¶Šé›£ç†¬ è¶Šè­‰æ˜æ´»è‘—çš„é‡é‡" },
                            { time: "02:19.900", text: "å¤±çœ  æ›´å¤šæ™‚é–“å°è©±" },
                            { time: "02:25.000", text: "åˆ¥å®³æ€• æµæ˜Ÿæœƒé™è½åœ¨ä½ å¿ƒä¸Š" },
                            { time: "02:51.000", text: "å°‘å¥³æ­£æš—è‡ªæœŸå¾…èŠ±è‹ç¶»é–‹" },
                            { time: "02:56.800", text: "é–‹å•Ÿå¾Œçè—çš„å¹¸ç¦æœƒæ­¸ä¾†" },
                            { time: "03:02.000", text: "æ­¸ä¾†çš„æ™‚åˆ»" },
                            { time: "03:06.700", text: "æ”œæ‰‹å‰µé€ æ›´å¤šæœªä¾†" },
                            { time: "03:12.700", text: "ç´„å®šå¥½ å°æŒ‡çºç¹" },
                            { time: "03:15.000", text: "ä¸€åŒæŠµæŠ—èµ·è½çš„æµªæ½®" },
                            { time: "03:18.700", text: "è¶Šé›£ç†¬ è¶Šè­‰æ˜æ´»è‘—çš„é‡é‡" },
                            { time: "03:23.800", text: "å¤±çœ  æ›´å¤šæ™‚é–“å°è©±" },
                            { time: "03:28.900", text: "æµªæ‹æ‰“ å¾€å‰è¸" },
                            { time: "03:34.000", text: "åˆ¥å®³æ€• æµæ˜Ÿæœƒé™è½åœ¨ä½ å¿ƒä¸Š" }

                        ],
                        currentLyricIndex: -1
                    },
                    {
                        title: "ä»Šå¤©æ²’å‘¼å¸çš„å¿ƒæƒ…(å¾…æ›´æ–°)",
                        videoId: "ytJ_yfyELm4",
                        lyrics: [
                            { time: "00:00.000", text: "ã€Šä»Šå¤©æ²’å‘¼å¸çš„å¿ƒæƒ…ã€‹" },
                            { time: "00:05.000", text: "æ£®æ£®éˆ´è˜­ Linglan Lily & çƒ˜å—“éŸ³æ¨‚ Home Sound" },
                            { time: "00:13.700", text: "ç©ºç™½ æ–¼ç”Ÿæ´»çš„è»Œè·¡" },
                            { time: "00:19.000", text: "æ²‰å¯‚ æ–¼æ¨¡ç³Šçš„æ„Ÿæ€§" },
                            { time: "00:25.500", text: "æ¸…é†’ å¾æ™å¤œåˆ°é»æ˜" },
                            { time: "00:29.700", text: "ä»Šå¤©æ²’å‘¼å¸çš„å¿ƒæƒ…" },
                            { time: "00:36.600", text: "çªºæ¢çš„è¨€èª æ†‚é¬±æ‡‚å¾—(èªªæœäººå¿ƒ)" },
                            { time: "00:42.700", text: "æœƒæ‡·ç–‘å‹•æ©Ÿ æ²’ç›®çš„æ€éº¼æœƒé è¿‘" },
                            { time: "00:47.700", text: "æˆ‘è¢«åƒ¹å€¼çµ¦åˆ¤å®š" },
                            { time: "00:50.000", text: "æ˜¯é™³åˆ—çš„å•†å“ ç­‰å¾…è¢«èª°ä¸­æ„" },
                            { time: "00:00.000", text: "é¡é¢æ˜ ç…§æˆ‘çš„èº«å½± æ˜¯è¢«é™³åˆ—å•†å“" },
                            { time: "00:00.000", text: "å¯ä¸å¯ä»¥ ä¸è¦æŠŠæˆ‘æ‹‹æ£„" },
                            { time: "00:00.000", text: "æ‹¿æ‰åƒ¹æ ¼è·Ÿæ¨™ç±¤ å‰©ä¸‹ä»€éº¼è€Œå·²ï¼Ÿ" },
                            { time: "00:00.000", text: "çœŸå¯¦è—åœ¨å“ªè£¡" },
                            { time: "00:00.000", text: "è¢«å‰å¥ª èª å¯¦çš„æ¬Šåˆ©" },
                            { time: "00:00.000", text: "è¢«è¿«å» é™„å’Œçš„è¨€èª" },
                            { time: "00:00.000", text: "è¢«æ•™å° å‘¼å¸çš„è¦çŸ©" },
                            { time: "00:00.000", text: "ä»Šå¤©æ²’æ´»è‘—çš„å¿ƒæƒ…" },
                            { time: "00:00.000", text: "çªºæ¢çš„è¨€èª æ†‚é¬±çµ‚æ–¼(èªªæœäººå¿ƒ)" },
                            { time: "00:00.000", text: "æœƒæ‡·ç–‘å‹•æ©Ÿ æ²’åˆ©ç›Šæ€éº¼æœƒäº¤é›†" },
                            { time: "00:00.000", text: "æˆ‘è¢«åƒ¹å€¼çµ¦åˆ¤å®š" },
                            { time: "00:00.000", text: "æ˜¯éæœŸçš„å•†å“ ç­‰å¾…è¢«èª°ä¸Ÿæ£„" },
                            { time: "00:00.000", text: "é¡é¢æ˜ ç…§æˆ‘çš„èº«å½± æ˜¯è¢«é™³åˆ—å•†å“" },
                            { time: "00:00.000", text: "å¯ä¸å¯ä»¥ ä¸è¦æŠŠæˆ‘æ‹‹æ£„" },
                            { time: "00:00.000", text: "æ‹¿æ‰åƒ¹æ ¼è·Ÿæ¨™ç±¤ å‰©ä¸‹ä»€éº¼è€Œå·²ï¼Ÿ" },
                            { time: "00:00.000", text: "çœŸå¯¦è—åœ¨å“ªè£¡" },
                            { time: "00:00.000", text: "é¡é¢æ˜ ç…§æˆ‘çš„èº«å½± æ˜¯éæœŸçš„å•†å“" },
                            { time: "00:00.000", text: "å¯ä¸å¯ä»¥ ä¸è¦æŠŠæˆ‘æ‹‹æ£„" },
                            { time: "00:00.000", text: "æ‹¿æ‰åƒ¹æ ¼è·Ÿæ¨™ç±¤ å¾€ä¸‹ä¸€æ­¥é‚é€²" },
                            { time: "00:00.000", text: "å–šé†’çœŸå¯¦çš„è‡ªå·±" }
                        ],
                        currentLyricIndex: -1
                    },
                    {
                        title: "æ•å¤¢è¬Š(å¾…æ›´æ–°)",
                        videoId: "XArIbyqZw-o",
                        lyrics:[
                        { time: "00:00.000", text: "ã€Šæ•å¤¢è¬Šã€‹" },
                        { time: "00:05.000", text: "æ£®æ£®éˆ´è˜­ Linglan Lily & çƒ˜å—“éŸ³æ¨‚ Home Sound" },
                        ],
                        currentLyricIndex: -1
                    },
                    {
                        title: "å£çƒå£ä¹(å¾…æ›´æ–°)",
                        videoId: "toAZjnSIOeE",
                        lyrics:[
                        { time: "00:00.000", text: "ã€Šå£çƒå£ä¹ã€‹" },
                        { time: "00:05.000", text: "æ£®æ£®éˆ´è˜­ Linglan Lily & çƒ˜å—“éŸ³æ¨‚ Home Sound" },
                        ],
                        currentLyricIndex: -1
                    },
                    {
                        title: "ç ´å±€(å¾…æ›´æ–°)",
                        videoId: "YlpvO1zs0fY",
                        lyrics:[
                        { time: "00:00.000", text: "ã€Šç ´å±€ã€‹" },
                        { time: "00:05.000", text: "æ£®æ£®éˆ´è˜­ Linglan Lily & çƒ˜å—“éŸ³æ¨‚ Home Sound" },
                        ],
                        currentLyricIndex: -1
                    },
                    {
                        title: "æœˆè‰²å¥‡é‡(å¾…æ›´æ–°)",
                        videoId: "4lc1X8J5yhA",
                        lyrics:[
                        { time: "00:00.000", text: "ã€Šæœˆè‰²å¥‡é‡ã€‹" },
                        { time: "00:05.000", text: "ç‘ªæ ¼éº—ç‰¹ Â· è«¾çˆ¾çµ² Margaret North" },
                        ],
                        currentLyricIndex: -1
                    },
                    {
                        title: "æ–°æœˆçƒè¨ˆç•«(å¾…æ›´æ–°)",
                        videoId: "ZFNWBPZuZ4s",
                        lyrics:[
                        { time: "00:00.000", text: "ã€Šæ–°æœˆçƒè¨ˆç•«ã€‹" },
                        { time: "00:05.000", text: "ç‘ªæ ¼éº—ç‰¹ Â· è«¾çˆ¾çµ² Margaret North" },
                        ],
                        currentLyricIndex: -1
                    },
                ]);

                const convertTimeToSeconds = (timeStr) => {
                    const parts = timeStr.split(":"); // åˆ†å‰²æˆ ["mm", "ss.xxx"]
                    const minutes = parseInt(parts[0], 10); // å–å¾—åˆ†é˜éƒ¨åˆ†
                    const seconds = parseFloat(parts[1]); // å–å¾—ç§’æ•¸ï¼ˆåŒ…å«å°æ•¸éƒ¨åˆ†ï¼‰
                    return minutes * 60 + seconds; // è¿”å›æµ®å‹•ç§’æ•¸
                };

                // ç›£è½å½±ç‰‡æ™‚é–“ä¸¦æ›´æ–°æ­Œè©
                const updateTime = () => {
                    if (player && player.getCurrentTime) {
                        // ç²å–ç•¶å‰æ’­æ”¾æ™‚é–“ï¼Œç²¾æº–åˆ°æ¯«ç§’
                        const currentTime = player.getCurrentTime(); // è¿”å›çš„æ˜¯æµ®å‹•çš„ç§’æ•¸

                        // æ‰¾å‡ºå°æ‡‰çš„æ­Œè©
                        const lyrics = videos.value[currentVideoIndex.value].lyrics;
                        let newLyricIndex = -1;

                        for (let i = 0; i < lyrics.length; i++) {
                            const lyricTime = convertTimeToSeconds(lyrics[i].time);

                            // ç•¶å‰æ™‚é–“å¤§æ–¼ç­‰æ–¼æ­Œè©æ™‚é–“ä¸¦ä¸”å°æ–¼ä¸‹ä¸€å€‹æ­Œè©æ™‚é–“ï¼Œå‰‡æ¨™è¨»ç‚ºç•¶å‰æ­Œè©
                            if (lyricTime <= currentTime) {
                                newLyricIndex = i;
                            } else {
                                break;
                            }
                        }

                        // å¦‚æœæ­Œè©ç´¢å¼•æ”¹è®Šï¼Œå‰‡æ›´æ–° currentLyricIndexï¼ŒVue æœƒè‡ªå‹•é‡æ–°æ¸²æŸ“
                        if (newLyricIndex !== videos.value[currentVideoIndex.value].currentLyricIndex) {
                            videos.value[currentVideoIndex.value].currentLyricIndex = newLyricIndex;
                        }
                    }
                };



                // é»æ“Šæ­Œè©æ™‚è·³è½‰å½±ç‰‡
                const seekTo = (timeStr) => {
                    if (player) {
                        const timeInSeconds = convertTimeToSeconds(timeStr); // è½‰æ›æ­Œè©æ™‚é–“ç‚ºç§’æ•¸
                        player.seekTo(timeInSeconds, true); // è·³è½‰åˆ°å°æ‡‰æ™‚é–“ä¸¦æ’­æ”¾
                    }
                };

                // åˆ‡æ›å½±ç‰‡
                const switchVideo = (index) => {
                    console.log("åˆ‡æ›å½±ç‰‡åˆ°", videos.value[index].title);
                    if (currentVideoIndex.value !== index) {
                        currentVideoIndex.value = index;
                        videos.value.forEach(video => video.currentLyricIndex = -1); // é‡ç½®æ‰€æœ‰æ­Œè©é«˜äº®

                        if (player) {
                            console.log("è¼‰å…¥æ–°å½±ç‰‡", videos.value[index].videoId);
                            player.cueVideoById(videos.value[index].videoId);
                        } else {
                            console.log("æ’­æ”¾å™¨å°šæœªåˆå§‹åŒ–ï¼Œåˆå§‹åŒ–æ’­æ”¾å™¨...");
                            createYouTubePlayer();
                        }
                    }
                };

                // å»ºç«‹ YouTube æ’­æ”¾å™¨
                const createYouTubePlayer = () => {
                    console.log("å»ºç«‹ YouTube æ’­æ”¾å™¨...");
                    player = new YT.Player("player", {
                        height: "360",
                        width: "640",
                        videoId: videos.value[currentVideoIndex.value].videoId,
                        playerVars: { "playsinline": 1 },
                        events: {
                            "onReady": () => {
                                console.log("YouTube æ’­æ”¾å™¨å·²æº–å‚™å¥½ï¼");
                                setInterval(updateTime, 200); // æ¯ 0.5 ç§’æ›´æ–°æ™‚é–“
                            }
                        }
                    });
                };

                // YouTube API æº–å‚™å¥½æ™‚åŸ·è¡Œ
                window.onYouTubeIframeAPIReady = function () {
                    console.log("YouTube API å·²è¼‰å…¥");
                    createYouTubePlayer();
                };

                return { videos, currentVideoIndex, seekTo, switchVideo };
            }
        }).mount("#app");

        const app2 = Vue.createApp({
            data() {
                return {
                    isAdmin: false, // é è¨­éç®¡ç†å“¡
                };
            },
            methods: {
                async getUserInfo() {
                    const uid = this.getCookie("Uid01");
                    if (!uid) return;

                    try {
                        const response = await fetch(`messageSystemApi.php?action=user_info&uid=${uid}`);
                        const data = await response.json();
                        if (data.state) {
                            this.isAdmin = data.data.isAdmin;
                        }
                    } catch (error) {
                        console.error("å–å¾—ç”¨æˆ¶è³‡è¨Šå¤±æ•—", error);
                    }
                },

                getCookie(cname) {
                    let name = cname + "=";
                    let ca = document.cookie.split(';');
                    for (let i = 0; i < ca.length; i++) {
                        let c = ca[i].trim();
                        if (c.indexOf(name) == 0) {
                            return c.substring(name.length, c.length);
                        }
                    }
                    return "";
                }
            },
            mounted() {
                this.getUserInfo();
            }
        });

        app2.mount("#app2");

    </script>
</body>

</html>